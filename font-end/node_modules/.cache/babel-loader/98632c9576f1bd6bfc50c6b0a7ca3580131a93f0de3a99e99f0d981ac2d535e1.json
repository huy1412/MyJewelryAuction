{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import ImageUploader from'./ImageUploader';import DescriptionInput from'./DescriptionInput';import StartingPriceInput from'./StartingPriceInput';import SubmitButton from'./SubmitButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function RequestAuction(){const[description,setDescription]=useState('');const[startingPrice,setStartingPrice]=useState('');const[image,setImage]=useState(null);const handleSubmit=async event=>{event.preventDefault();const fileReader=new FileReader();fileReader.onloadend=async()=>{const base64String=fileReader.result.split(',')[1];const data={estimatePriceMax:startingPrice,description,image:base64String};try{const response=await axios.post('http://localhost:8080/myproject/makeRequest',data,{headers:{'Content-Type':'application/json'}});console.log('Response:',response.data);toast.success('Request submitted successfully!');}catch(error){console.error('Error submitting form:',error);toast.error('Failed to submit request.');}};if(image){fileReader.readAsDataURL(image);}else{// Handle case where no image is selected\nconst data={estimatePriceMax:startingPrice,description,image:null};try{const response=await axios.post('http://localhost:8080/myproject/makeRequest',data,{headers:{'Content-Type':'application/json'}});console.log('Response:',response.data);toast.success('Request submitted successfully!');}catch(error){console.error('Error submitting form:',error);toast.error('Failed to submit request.');}}};const handleImageChange=e=>{setImage(e.target.files[0]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-[#1b190e] tracking-light text-2xl font-bold leading-tight px-4 text-center pb-2 pt-5\",children:\"Request an auction\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex flex-col gap-4 px-4\",children:[/*#__PURE__*/_jsx(ImageUploader,{onImageChange:handleImageChange}),/*#__PURE__*/_jsx(DescriptionInput,{value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(StartingPriceInput,{value:startingPrice,onChange:e=>setStartingPrice(e.target.value)}),/*#__PURE__*/_jsx(SubmitButton,{})]})]});}export default RequestAuction;","map":{"version":3,"names":["React","useState","axios","ToastContainer","toast","ImageUploader","DescriptionInput","StartingPriceInput","SubmitButton","jsx","_jsx","jsxs","_jsxs","RequestAuction","description","setDescription","startingPrice","setStartingPrice","image","setImage","handleSubmit","event","preventDefault","fileReader","FileReader","onloadend","base64String","result","split","data","estimatePriceMax","response","post","headers","console","log","success","error","readAsDataURL","handleImageChange","e","target","files","className","children","onSubmit","onImageChange","value","onChange"],"sources":["D:/Study/MyProject/MyJewelryAuction_font-end/src/components/RequestAcution.js"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport ImageUploader from './ImageUploader';\r\nimport DescriptionInput from './DescriptionInput';\r\nimport StartingPriceInput from './StartingPriceInput';\r\nimport SubmitButton from './SubmitButton';\r\n\r\nfunction RequestAuction() {\r\n    const [description, setDescription] = useState('');\r\n    const [startingPrice, setStartingPrice] = useState('');\r\n    const [image, setImage] = useState(null);\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const fileReader = new FileReader();\r\n        fileReader.onloadend = async () => {\r\n            const base64String = fileReader.result.split(',')[1];\r\n            const data = {\r\n                estimatePriceMax: startingPrice,\r\n                description,\r\n                image: base64String\r\n            };\r\n\r\n            try {\r\n                const response = await axios.post('http://localhost:8080/myproject/makeRequest', data, {\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                });\r\n                console.log('Response:', response.data);\r\n                toast.success('Request submitted successfully!');\r\n            } catch (error) {\r\n                console.error('Error submitting form:', error);\r\n                toast.error('Failed to submit request.');\r\n            }\r\n        };\r\n\r\n        if (image) {\r\n            fileReader.readAsDataURL(image);\r\n        } else {\r\n            // Handle case where no image is selected\r\n            const data = {\r\n                estimatePriceMax: startingPrice,\r\n                description,\r\n                image: null\r\n            };\r\n\r\n            try {\r\n                const response = await axios.post('http://localhost:8080/myproject/makeRequest', data, {\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                });\r\n                console.log('Response:', response.data);\r\n                toast.success('Request submitted successfully!');\r\n            } catch (error) {\r\n                console.error('Error submitting form:', error);\r\n                toast.error('Failed to submit request.');\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleImageChange = (e) => {\r\n        setImage(e.target.files[0]);\r\n    };\r\n\r\n    return (\r\n        <div className=\"layout-content-container flex flex-col w-[512px] max-w-[512px] py-5 max-w-[960px] flex-1\">\r\n            <ToastContainer />\r\n            <h3 className=\"text-[#1b190e] tracking-light text-2xl font-bold leading-tight px-4 text-center pb-2 pt-5\">Request an auction</h3>\r\n            <form onSubmit={handleSubmit} className=\"flex flex-col gap-4 px-4\">\r\n                <ImageUploader onImageChange={handleImageChange} />\r\n                <DescriptionInput value={description} onChange={(e) => setDescription(e.target.value)} />\r\n                <StartingPriceInput value={startingPrice} onChange={(e) => setStartingPrice(e.target.value)} />\r\n                <SubmitButton />\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RequestAuction;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}